# OpenClaw Token Dashboard - è¨­è¨ˆè‰æ¡ˆ

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°

**ç›®æ¨™**ï¼šå»ºç«‹ä¸€å€‹å®Œæ•´çš„ Token ä½¿ç”¨ç›£æ§ç³»çµ±ï¼ŒåŒ…å«çµ±è¨ˆã€è¿½è¹¤ã€è¦–è¦ºåŒ–å„€è¡¨æ¿ã€‚

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
1. Token æ¶ˆè€—çµ±è¨ˆï¼ˆæ¯å¤©/4å°æ™‚/æ¯äº‹ä»¶ï¼‰
2. äº‹ä»¶è¿½è¹¤ï¼ˆä»»å‹™ â†’ token â†’ æˆæœ¬ï¼‰
3. æ¨¡å‹é…é¡å³æ™‚ç›£æ§ï¼ˆopenclaw modelsï¼‰
4. Web UI å„€è¡¨æ¿ï¼ˆå‹•æ…‹æ•¸æ“šé¡¯ç¤ºï¼‰
5. è‡ªå‹•æ•¸æ“šæ”¶é›† + API æœå‹™

---

## ğŸ—„ï¸ è³‡æ–™çµæ§‹è¨­è¨ˆ

### 1. `token_usage` - Token ä½¿ç”¨è¨˜éŒ„
```sql
CREATE TABLE token_usage (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,
  model VARCHAR(100) NOT NULL,           -- æ¨¡å‹åç¨± (claude-sonnet-4-5, gemini-2.5-pro, etc.)
  provider VARCHAR(50) NOT NULL,         -- æä¾›å•† (google-antigravity, google-gemini-cli, etc.)
  input_tokens INTEGER DEFAULT 0,        -- è¼¸å…¥ token
  output_tokens INTEGER DEFAULT 0,       -- è¼¸å‡º token
  total_tokens INTEGER GENERATED ALWAYS AS (input_tokens + output_tokens),
  event_type VARCHAR(100),               -- äº‹ä»¶é¡å‹ (exec, file_read, message_send, etc.)
  event_description TEXT,                -- äº‹ä»¶æè¿°
  session_key VARCHAR(100),              -- OpenClaw session key
  cost_usd DECIMAL(10, 6)                -- æˆæœ¬ä¼°ç®—ï¼ˆç¾é‡‘ï¼‰
);

CREATE INDEX idx_timestamp ON token_usage(timestamp);
CREATE INDEX idx_model ON token_usage(model);
CREATE INDEX idx_event_type ON token_usage(event_type);
```

### 2. `model_quota` - æ¨¡å‹é…é¡å¿«ç…§
```sql
CREATE TABLE model_quota (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,
  provider VARCHAR(50) NOT NULL,
  model VARCHAR(100) NOT NULL,
  quota_remaining_pct INTEGER,           -- å‰©é¤˜é…é¡ç™¾åˆ†æ¯”
  quota_reset_seconds INTEGER,           -- é‡ç½®å€’æ•¸ç§’æ•¸
  auth_status VARCHAR(20),               -- ok / expired / cooldown
  raw_data JSON                          -- åŸå§‹ openclaw models è¼¸å‡º
);

CREATE INDEX idx_quota_timestamp ON model_quota(timestamp);
CREATE INDEX idx_quota_model ON model_quota(model);
```

### 3. `events` - äº‹ä»¶è¨˜éŒ„
```sql
CREATE TABLE events (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,
  event_type VARCHAR(100) NOT NULL,
  description TEXT,
  model_used VARCHAR(100),
  tokens_consumed INTEGER,
  duration_ms INTEGER,                   -- åŸ·è¡Œæ™‚é•·ï¼ˆæ¯«ç§’ï¼‰
  success BOOLEAN DEFAULT TRUE,
  metadata JSON                          -- é¡å¤–è³‡è¨Šï¼ˆæª”æ¡ˆè·¯å¾‘ã€æŒ‡ä»¤ç­‰ï¼‰
);

CREATE INDEX idx_events_timestamp ON events(timestamp);
CREATE INDEX idx_events_type ON events(event_type);
```

### 4. `daily_summary` - æ¯æ—¥æ‘˜è¦ï¼ˆèšåˆè¡¨ï¼‰
```sql
CREATE TABLE daily_summary (
  date DATE PRIMARY KEY,
  total_tokens INTEGER,
  total_cost_usd DECIMAL(10, 4),
  by_model JSON,                         -- æ¯å€‹æ¨¡å‹çš„ç”¨é‡çµ±è¨ˆ
  by_event_type JSON,                    -- æ¯ç¨®äº‹ä»¶çš„ç”¨é‡çµ±è¨ˆ
  top_consuming_events JSON              -- æœ€è€— token çš„äº‹ä»¶ Top 10
);
```

---

## ğŸ¨ å‰ç«¯ UI è¨­è¨ˆ

### é é¢æ¶æ§‹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OpenClaw Token Dashboard                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Overview] [Models] [Events] [History] [Cost] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“Š 1. Overviewï¼ˆç¸½è¦½é ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä»Šæ—¥æ¶ˆè€—: 45,234 tokens  ($0.23)      â”‚
â”‚  æœ¬é€±æ¶ˆè€—: 312,456 tokens ($1.58)      â”‚
â”‚  æœ¬æœˆæ¶ˆè€—: 1,234,567 tokens ($6.89)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ Token æ¶ˆè€—è¶¨å‹¢åœ–ï¼ˆæœ€è¿‘ 7 å¤©ï¼‰        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ æŠ˜ç·šåœ–ï¼ˆæ¯æ—¥ç¸½é‡ï¼‰            â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”¥ Top 5 æœ€è€— Token äº‹ä»¶              â”‚
â”‚  1. file_read (123,456 tokens)         â”‚
â”‚  2. web_search (98,765 tokens)         â”‚
â”‚  3. exec (67,890 tokens)               â”‚
â”‚  ...                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¦ 2. Modelsï¼ˆæ¨¡å‹ç›£æ§é ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŸ¢ Configured Modelsï¼ˆå·²é…ç½®æ¨¡å‹ï¼‰      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  | æ¨¡å‹                              | åˆ¥å           | è²»ç”¨ä¾†æº    â”‚
â”‚  |-----------------------------------|----------------|------------|
â”‚  | google-antigravity/opus-thinking  | -              | Claude Max â”‚
â”‚  | google-antigravity/sonnet-thinking| sonnet-thinking| Claude Max â”‚
â”‚  | anthropic/claude-sonnet-4-5       | sonnet         | API è¨ˆè²»   â”‚
â”‚  | anthropic/claude-opus-4-5         | opus           | API è¨ˆè²»   â”‚
â”‚  | anthropic/claude-haiku-4-5        | -              | API è¨ˆè²»   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ ç”¨é‡ç‹€æ³                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  | Provider           | æ¨¡å‹              | å‰©é¤˜  | é‡ç½®æ™‚é–“ | ç‹€æ…‹  â”‚
â”‚  |--------------------|-------------------|-------|---------|-------|
â”‚  | google-antigravity | claude-sonnet-4-5 | 60%   | 6d 23h  | âœ… OK â”‚
â”‚  | google-antigravity | gpt-oss-120b      | 60%   | 6d 23h  | âœ… OK â”‚
â”‚  | google-gemini-cli  | Pro               | 100%  | -       | âœ… OK â”‚
â”‚  | google-gemini-cli  | Flash             | 100%  | -       | âœ… OK â”‚
â”‚  | anthropic          | (all)             | token | -       | âš ï¸    â”‚
â”‚  | openai-codex       | 5h quota          | 100%  | 4h 59m  | âœ… OK â”‚
â”‚  | openai-codex       | Day quota         | 0%    | 3d 16h  | âŒ    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”‘ å¸³è™Ÿèªè­‰ç‹€æ…‹                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  | Provider           | å¸³è™Ÿ                   | ç‹€æ…‹          â”‚
â”‚  |--------------------|------------------------|---------------|
â”‚  | google-antigravity | aijessie88@gmail.com   | âœ… OK (45m)   â”‚
â”‚  | google-antigravity | aiagentg888@gmail.com  | âœ… OK (36m)   â”‚
â”‚  | google-gemini-cli  | aijessie88@gmail.com   | âœ… OK (36m)   â”‚
â”‚  | anthropic          | default                | âš ï¸ cooldown   â”‚
â”‚  | anthropic          | jacky                  | âš ï¸ cooldown   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š é…é¡ä½¿ç”¨è¦–è¦ºåŒ–ï¼ˆé€²åº¦æ¢ï¼‰              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Antigravity: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 60%  â”‚       â”‚
â”‚  â”‚ Gemini:      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% â”‚       â”‚
â”‚  â”‚ Codex 5h:    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% â”‚       â”‚
â”‚  â”‚ Codex Day:   â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0%   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ¯ 3. Eventsï¼ˆäº‹ä»¶è¿½è¹¤é ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¯©é¸: [æ‰€æœ‰äº‹ä»¶ â–¼] [æœ€è¿‘ 24h â–¼] [æœå°‹]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ™‚é–“          | äº‹ä»¶           | Token  â”‚
â”‚  17:03:45     | exec (openclaw)| 1,234  â”‚
â”‚  17:01:23     | file_read      | 567    â”‚
â”‚  16:58:12     | web_search     | 2,345  â”‚
â”‚  ...                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ äº‹ä»¶é¡å‹åˆ†å¸ƒåœ“é¤…åœ–                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ exec: 40%                    â”‚       â”‚
â”‚  â”‚ file_read: 30%               â”‚       â”‚
â”‚  â”‚ web_search: 20%              â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“œ 4. Historyï¼ˆæ­·å²è¨˜éŒ„é ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¸æ“‡æ—¥æœŸ: [2026-02-06 â–¼]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è©²æ—¥ç¸½æ¶ˆè€—: 45,234 tokens ($0.23)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ™‚æ®µåˆ†æï¼ˆæ¯ 4 å°æ™‚ä¸€æ ¼ï¼‰               â”‚
â”‚  00:00-04:00: 5,234 tokens             â”‚
â”‚  04:00-08:00: 12,345 tokens            â”‚
â”‚  08:00-12:00: 8,765 tokens             â”‚
â”‚  ...                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’° 5. Costï¼ˆæˆæœ¬é ä¼°é ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœ¬æœˆæˆæœ¬é ä¼°: $6.89                    â”‚
â”‚  é è¨ˆæœˆåº•: $12.50                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å„æ¨¡å‹æˆæœ¬å æ¯”ï¼ˆåœ“é¤…åœ–ï¼‰                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Claude: $4.20 (61%)          â”‚       â”‚
â”‚  â”‚ Gemini: $1.50 (22%)          â”‚       â”‚
â”‚  â”‚ OpenAI: $1.19 (17%)          â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš¡ 6. Rate Limitsï¼ˆé€Ÿç‡é™åˆ¶ç›£æ§é ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š å³æ™‚é€Ÿç‡ç›£æ§                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  | Provider           | RPM    | TPM      | ç‹€æ…‹   â”‚
â”‚  |--------------------|--------|----------|--------|
â”‚  | anthropic          | 12/50  | 45k/100k | âœ… OK  â”‚
â”‚  | google-antigravity | N/A    | é…é¡ 60% | âœ… OK  â”‚
â”‚  | google-gemini-cli  | 8/60   | N/A      | âœ… OK  â”‚
â”‚  | openai-codex       | 5/100  | 20k/200k | âœ… OK  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ RPM ä½¿ç”¨ç‡è¦–è¦ºåŒ–ï¼ˆé€²åº¦æ¢ï¼‰           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Anthropic:  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 24%  â”‚       â”‚
â”‚  â”‚ Gemini:     â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 13%  â”‚       â”‚
â”‚  â”‚ Codex:      â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 5%   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš ï¸ Cooldown ç‹€æ…‹                       â”‚
â”‚  â€¢ anthropic:default - cooldown 55m    â”‚
â”‚  â€¢ anthropic:jacky - cooldown 52m      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¡ è‡ªå‹•åˆ‡æ›å»ºè­°                         â”‚
â”‚  â€¢ ç•¶å‰æ¨¡å‹æ¥è¿‘é™åˆ¶ â†’ å»ºè­°åˆ‡æ›è‡³ Gemini â”‚
â”‚  â€¢ é è¨ˆ 55 åˆ†é˜å¾Œ Anthropic å¯ç”¨        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ æŠ€è¡“æ£§é¸æ“‡

### æ–¹æ¡ˆ Aï¼šè¼•é‡æœ¬æ©Ÿæ–¹æ¡ˆï¼ˆæ¨è–¦ï¼‰
```
å‰ç«¯ï¼šHTML + Vanilla JS + Chart.jsï¼ˆåœ–è¡¨åº«ï¼‰
å¾Œç«¯ï¼šNode.js + Express
è³‡æ–™åº«ï¼šSQLiteï¼ˆæœ¬æ©Ÿæª”æ¡ˆï¼Œå…å®‰è£ï¼‰
éƒ¨ç½²ï¼šæœ¬æ©Ÿå•Ÿå‹•ï¼Œç€è¦½å™¨è¨ªå• localhost:3000
```
**å„ªé»**ï¼š
- âœ… è¼•é‡ã€å¿«é€Ÿã€é›¶ä¾è³´ï¼ˆä¸éœ€é¡å¤–å®‰è£è³‡æ–™åº«ï¼‰
- âœ… é©åˆå€‹äººä½¿ç”¨
- âœ… é–‹ç™¼é€Ÿåº¦å¿«

**ç¼ºé»**ï¼š
- âŒ ä¸é©åˆå¤šäººå”ä½œ

---

### æ–¹æ¡ˆ Bï¼šç¾ä»£å…¨ç«¯æ–¹æ¡ˆ
```
å‰ç«¯ï¼šReact + TailwindCSS + Rechartsï¼ˆåœ–è¡¨ï¼‰
å¾Œç«¯ï¼šNode.js + Express + Prismaï¼ˆORMï¼‰
è³‡æ–™åº«ï¼šPostgreSQL / MySQL
éƒ¨ç½²ï¼šDocker Compose ä¸€éµå•Ÿå‹•
```
**å„ªé»**ï¼š
- âœ… æ“´å±•æ€§å¼·ã€UI æ›´ç¾ä»£
- âœ… é©åˆæœªä¾†æ“´å±•ï¼ˆå¤šç”¨æˆ¶ã€æ¬Šé™ç®¡ç†ï¼‰

**ç¼ºé»**ï¼š
- âŒ é–‹ç™¼æ™‚é–“è¼ƒé•·
- âŒ éœ€è¦å®‰è£é¡å¤–æœå‹™ï¼ˆPostgreSQLï¼‰

---

### æ–¹æ¡ˆ Cï¼šTUI + Web é›™æ¨¡å¼
```
TUIï¼šRust + ratatuiï¼ˆçµ‚ç«¯æ©Ÿåœ–è¡¨ï¼‰
Webï¼šåŒæ–¹æ¡ˆ Aï¼ˆè¼•é‡ç‰ˆï¼‰
è³‡æ–™æ”¶é›†ï¼šçµ±ä¸€å¾Œç«¯æœå‹™
```
**å„ªé»**ï¼š
- âœ… TUI é©åˆ SSH é ç«¯æŸ¥çœ‹
- âœ… Web é©åˆåˆ†äº«çµ¦å…¶ä»–äºº

**ç¼ºé»**ï¼š
- âŒ éœ€è¦ç¶­è­·å…©å¥—ä»‹é¢

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OpenClaw (é‹è¡Œä¸­)                              â”‚
â”‚  â”œâ”€ session_status (å–å¾— token ç”¨é‡)            â”‚
â”‚  â”œâ”€ openclaw models (å–å¾—é…é¡ç‹€æ…‹)              â”‚
â”‚  â””â”€ åŸ·è¡Œå„ç¨®ä»»å‹™ï¼ˆexec, file_read, etc.ï¼‰       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ æ•¸æ“šæ”¶é›†
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Collectorï¼ˆNode.js èƒŒæ™¯æœå‹™ï¼‰             â”‚
â”‚  â”œâ”€ å®šæ™‚åŸ·è¡Œ session_status + openclaw models   â”‚
â”‚  â”œâ”€ è§£æè¼¸å‡º â†’ å¯«å…¥è³‡æ–™åº«                       â”‚
â”‚  â””â”€ èšåˆè¨ˆç®—ï¼ˆæ¯æ—¥/æ¯ 4 å°æ™‚çµ±è¨ˆï¼‰              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ å¯«å…¥
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SQLite Database                                â”‚
â”‚  â”œâ”€ token_usage (æ¯æ¬¡äº‹ä»¶è¨˜éŒ„)                  â”‚
â”‚  â”œâ”€ model_quota (é…é¡å¿«ç…§)                      â”‚
â”‚  â”œâ”€ events (äº‹ä»¶è¨˜éŒ„)                           â”‚
â”‚  â””â”€ daily_summary (æ¯æ—¥èšåˆ)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ æŸ¥è©¢
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REST API Server (Express)                      â”‚
â”‚  â”œâ”€ GET /api/overview (ç¸½è¦½æ•¸æ“š)                â”‚
â”‚  â”œâ”€ GET /api/models (æ¨¡å‹é…é¡)                  â”‚
â”‚  â”œâ”€ GET /api/events (äº‹ä»¶åˆ—è¡¨)                  â”‚
â”‚  â”œâ”€ GET /api/history?date=2026-02-06            â”‚
â”‚  â””â”€ GET /api/cost (æˆæœ¬çµ±è¨ˆ)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ HTTP
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Web Dashboard (ç€è¦½å™¨)                         â”‚
â”‚  â”œâ”€ Overview é é¢                               â”‚
â”‚  â”œâ”€ Models é é¢                                 â”‚
â”‚  â”œâ”€ Events é é¢                                 â”‚
â”‚  â”œâ”€ History é é¢                                â”‚
â”‚  â””â”€ Cost é é¢                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ æ•¸æ“šæµç¨‹

### 1. æ•¸æ“šæ”¶é›†ï¼ˆè‡ªå‹•åŒ–ï¼‰
```bash
# Cron Job æ¯å°æ™‚åŸ·è¡Œä¸€æ¬¡
0 * * * * node /path/to/collector.js

# collector.js åŸ·è¡Œæµç¨‹ï¼š
1. åŸ·è¡Œ `session_status` â†’ è§£æç•¶å‰å°è©± token ç”¨é‡
2. åŸ·è¡Œ `openclaw models` â†’ è§£ææ‰€æœ‰æ¨¡å‹é…é¡
3. å¾ OpenClaw æ—¥èªŒæå–äº‹ä»¶è¨˜éŒ„ï¼ˆå¯é¸ï¼‰
4. å¯«å…¥è³‡æ–™åº«
5. è¨ˆç®—èšåˆæ•¸æ“šï¼ˆæ¯ 4 å°æ™‚ã€æ¯æ—¥ï¼‰
```

### 2. API æŸ¥è©¢ï¼ˆå³æ™‚ï¼‰
```javascript
// å‰ç«¯è«‹æ±‚
fetch('/api/overview')
  .then(res => res.json())
  .then(data => {
    // æ¸²æŸ“ç¸½è¦½é é¢
    renderOverview(data);
  });

// å¾Œç«¯å›æ‡‰
{
  "today": {
    "totalTokens": 45234,
    "totalCost": 0.23,
    "byModel": {
      "claude-sonnet-4-5": 30000,
      "gemini-2.5-pro": 15234
    }
  },
  "week": { ... },
  "month": { ... }
}
```

---

## ğŸ“ æˆæœ¬ä¼°ç®—

### Token å®šåƒ¹ï¼ˆåƒè€ƒï¼‰
```javascript
const PRICING = {
  "claude-sonnet-4-5": {
    input: 0.000003,   // $3 / 1M tokens
    output: 0.000015   // $15 / 1M tokens
  },
  "gemini-2.5-pro": {
    input: 0.00000125, // $1.25 / 1M tokens
    output: 0.000005   // $5 / 1M tokens
  },
  // ... å…¶ä»–æ¨¡å‹
};

// æˆæœ¬è¨ˆç®—
function calculateCost(model, inputTokens, outputTokens) {
  const price = PRICING[model];
  return (inputTokens * price.input) + (outputTokens * price.output);
}
```

---

## ğŸš€ é–‹ç™¼è¨ˆåŠƒ

### Phase 1ï¼šMVPï¼ˆæœ€å°å¯è¡Œç”¢å“ï¼‰
- [ ] è³‡æ–™åº« schema å»ºç«‹ï¼ˆSQLiteï¼‰
- [ ] Data Collector è…³æœ¬ï¼ˆæ”¶é›† session_status + openclaw modelsï¼‰
- [ ] REST APIï¼ˆ5 å€‹åŸºç¤ç«¯é»ï¼‰
- [ ] å‰ç«¯ Overview é é¢ï¼ˆç¸½è¦½ï¼‰
- [ ] å‰ç«¯ Models é é¢ï¼ˆé…é¡ç›£æ§ï¼‰

**é è¨ˆæ™‚é–“**ï¼š2-3 å°æ™‚

### Phase 2ï¼šå®Œæ•´åŠŸèƒ½
- [ ] Events é é¢ï¼ˆäº‹ä»¶è¿½è¹¤ + ç¯©é¸ï¼‰
- [ ] History é é¢ï¼ˆæ­·å²æŸ¥è©¢ï¼‰
- [ ] Cost é é¢ï¼ˆæˆæœ¬é ä¼°ï¼‰
- [ ] åœ–è¡¨è¦–è¦ºåŒ–ï¼ˆChart.js æ•´åˆï¼‰
- [ ] è‡ªå‹•åˆ·æ–°ï¼ˆWebSocket / SSEï¼‰

**é è¨ˆæ™‚é–“**ï¼š3-4 å°æ™‚

### Phase 3ï¼šå„ªåŒ–
- [ ] TUI ç‰ˆæœ¬ï¼ˆå¯é¸ï¼‰
- [ ] æ•¸æ“šåŒ¯å‡ºï¼ˆCSV / JSONï¼‰
- [ ] å‘Šè­¦é€šçŸ¥ï¼ˆé…é¡ <20% ç™¼ Telegramï¼‰
- [ ] Docker æ‰“åŒ…

**é è¨ˆæ™‚é–“**ï¼š2-3 å°æ™‚

---

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
token-dashboard/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ server.js              # Express API æœå‹™
â”‚   â”œâ”€â”€ collector.js           # æ•¸æ“šæ”¶é›†è…³æœ¬
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”œâ”€â”€ schema.sql         # è³‡æ–™åº«çµæ§‹
â”‚   â”‚   â””â”€â”€ database.db        # SQLite æª”æ¡ˆ
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ TokenUsage.js
â”‚   â”‚   â”œâ”€â”€ ModelQuota.js
â”‚   â”‚   â””â”€â”€ Events.js
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ pricing.js         # æˆæœ¬è¨ˆç®—
â”‚       â””â”€â”€ openclaw.js        # OpenClaw æŒ‡ä»¤åŸ·è¡Œ
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ styles.css
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ app.js
â”‚   â”‚   â”œâ”€â”€ overview.js
â”‚   â”‚   â”œâ”€â”€ models.js
â”‚   â”‚   â”œâ”€â”€ events.js
â”‚   â”‚   â””â”€â”€ charts.js
â”‚   â””â”€â”€ assets/
â”‚       â””â”€â”€ logo.png
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md
â””â”€â”€ DESIGN.md                  # æœ¬æ–‡ä»¶
```

---

## â“ å¾…ç¢ºèªäº‹é …

1. **æŠ€è¡“æ£§é¸æ“‡**ï¼šæ–¹æ¡ˆ Aï¼ˆè¼•é‡ï¼‰/ æ–¹æ¡ˆ Bï¼ˆç¾ä»£ï¼‰/ æ–¹æ¡ˆ Cï¼ˆé›™æ¨¡å¼ï¼‰ï¼Ÿ
2. **æ•¸æ“šæ”¶é›†é »ç‡**ï¼šæ¯å°æ™‚ / æ¯ 4 å°æ™‚ / æ¯å¤©ï¼Ÿ
3. **æ˜¯å¦éœ€è¦ TUI**ï¼Ÿ
4. **éƒ¨ç½²æ–¹å¼**ï¼šæœ¬æ©Ÿå•Ÿå‹• / Docker / é›²ç«¯ï¼Ÿ
5. **æˆæœ¬å®šåƒ¹æ•¸æ“š**ï¼šæ˜¯å¦è¦æ•´åˆçœŸå¯¦ API å®šåƒ¹ï¼ˆéœ€å®šæœŸæ›´æ–°ï¼‰ï¼Ÿ

---

## âœ… ä¸‹ä¸€æ­¥

ç¢ºèªè¨­è¨ˆè‰æ¡ˆå¾Œï¼Œé–‹å§‹ Phase 1 é–‹ç™¼ï¼ˆMVPï¼‰ã€‚
