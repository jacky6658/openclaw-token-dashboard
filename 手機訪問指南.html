<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ‰‹æ©Ÿè¨ªå•æŒ‡å— - OpenClaw Token Dashboard</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
      color: #ffffff;
      padding: 20px;
      min-height: 100vh;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: linear-gradient(135deg, #0f0f0f 0%, #1a1a2e 100%);
      border-radius: 20px;
      padding: 40px;
      border: 1px solid rgba(0, 240, 255, 0.3);
      box-shadow: 
        0 0 40px rgba(255, 0, 128, 0.3),
        0 0 80px rgba(0, 240, 255, 0.2);
    }
    
    h1 {
      background: linear-gradient(90deg, #ff0080, #00f0ff, #00ff88);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-size: 2.5rem;
      margin-bottom: 30px;
      text-align: center;
    }
    
    h2 {
      color: #00f0ff;
      margin: 30px 0 15px 0;
      font-size: 1.5rem;
      text-shadow: 0 0 10px rgba(0, 240, 255, 0.6);
    }
    
    .step {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(0, 240, 255, 0.2);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
    }
    
    .step-number {
      display: inline-block;
      width: 35px;
      height: 35px;
      background: linear-gradient(135deg, #ff0080, #7928ca);
      border-radius: 50%;
      text-align: center;
      line-height: 35px;
      font-weight: bold;
      margin-right: 15px;
      box-shadow: 0 0 15px rgba(255, 0, 128, 0.5);
    }
    
    .step-title {
      font-size: 1.2rem;
      color: #00ff88;
      margin-bottom: 10px;
    }
    
    .step-content {
      margin-left: 50px;
      color: #ffffff;
      line-height: 1.6;
    }
    
    .code {
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(0, 240, 255, 0.3);
      border-radius: 8px;
      padding: 15px;
      margin: 10px 0;
      font-family: 'Courier New', monospace;
      color: #00f0ff;
      overflow-x: auto;
    }
    
    .qr-placeholder {
      background: rgba(255, 255, 255, 0.1);
      border: 2px dashed rgba(0, 240, 255, 0.5);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      margin: 20px 0;
    }
    
    .qr-image {
      max-width: 250px;
      height: 250px;
      margin: 20px auto;
      display: block;
      border-radius: 12px;
      background: white;
      padding: 10px;
    }
    
    .warning {
      background: rgba(255, 170, 0, 0.2);
      border-left: 4px solid #ffaa00;
      border-radius: 8px;
      padding: 15px;
      margin: 20px 0;
    }
    
    .info {
      background: rgba(0, 240, 255, 0.1);
      border-left: 4px solid #00f0ff;
      border-radius: 8px;
      padding: 15px;
      margin: 20px 0;
    }
    
    .btn {
      background: linear-gradient(135deg, #ff0080, #7928ca);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 0 20px rgba(255, 0, 128, 0.5);
      transition: all 0.3s;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 30px rgba(255, 0, 128, 0.8);
    }
    
    ul {
      margin: 15px 0;
      margin-left: 20px;
    }
    
    li {
      margin: 8px 0;
      color: #ffffff;
    }
    
    #ipAddress {
      font-size: 1.5rem;
      color: #00ff88;
      font-weight: bold;
      text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
    }
    
    #qrCode {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“± æ‰‹æ©Ÿè¨ªå•æŒ‡å—</h1>
    
    <div class="info">
      <strong>ğŸ’¡ ä½¿ç”¨æƒ…å¢ƒï¼š</strong><br>
      æƒ³è¦åœ¨æ‰‹æ©Ÿã€å¹³æ¿ä¸ŠæŸ¥çœ‹ Dashboardï¼Ÿè·Ÿè‘—ä»¥ä¸‹æ­¥é©Ÿå°±èƒ½è¼•é¬†è¨ªå•ï¼
    </div>
    
    <h2>æ–¹æ³•ä¸€ï¼šè‡ªå‹•åµæ¸¬ IPï¼ˆæ¨è–¦ï¼‰</h2>
    
    <div class="step">
      <div class="step-title">
        <span class="step-number">1</span>
        ç¢ºèªé›»è…¦å’Œæ‰‹æ©Ÿåœ¨åŒä¸€å€‹ WiFi
      </div>
      <div class="step-content">
        <ul>
          <li>é›»è…¦å’Œæ‰‹æ©Ÿå¿…é ˆé€£æ¥åˆ°åŒä¸€å€‹ WiFi ç¶²è·¯</li>
          <li>ä¾‹å¦‚ï¼šéƒ½é€£æ¥åˆ°ã€Œå®¶è£¡çš„ WiFiã€</li>
          <li>âš ï¸ ä¸æ”¯æ´å…¬å…± WiFiï¼ˆå¦‚å’–å•¡å»³ï¼‰</li>
        </ul>
      </div>
    </div>
    
    <div class="step">
      <div class="step-title">
        <span class="step-number">2</span>
        å–å¾—é›»è…¦ IP ä½å€
      </div>
      <div class="step-content">
        <button class="btn" onclick="getIPAddress()">ğŸ” è‡ªå‹•åµæ¸¬æˆ‘çš„ IP</button>
        <div class="code" id="ipResult" style="display: none; margin-top: 15px;">
          <div>ğŸ“ æ‚¨çš„é›»è…¦ IP ä½å€ï¼š<span id="ipAddress">åµæ¸¬ä¸­...</span></div>
          <div style="margin-top: 10px;">ğŸ“± æ‰‹æ©Ÿè¨ªå•ç¶²å€ï¼š</div>
          <div id="mobileUrl" style="font-size: 1.2rem; margin-top: 5px; color: #00ff88;"></div>
        </div>
      </div>
    </div>
    
    <div class="step">
      <div class="step-title">
        <span class="step-number">3</span>
        ç”¨ QR Code å¿«é€Ÿè¨ªå•
      </div>
      <div class="step-content">
        <div id="qrCode">
          <div class="qr-placeholder">
            <p style="margin-bottom: 15px; color: #00f0ff;">ğŸ“¸ ç”¨æ‰‹æ©Ÿç›¸æ©Ÿæƒææ­¤ QR Code</p>
            <img id="qrImage" class="qr-image" alt="QR Code">
            <p style="margin-top: 15px; color: #ffffff;">æƒæå¾Œæœƒè‡ªå‹•é–‹å•Ÿ Dashboard</p>
          </div>
        </div>
      </div>
    </div>
    
    <h2>æ–¹æ³•äºŒï¼šæ‰‹å‹•æŸ¥è©¢ IP</h2>
    
    <div class="step">
      <div class="step-title">
        <span class="step-number">1</span>
        åœ¨ macOS æŸ¥è©¢ IP
      </div>
      <div class="step-content">
        <strong>é¸é … Aï¼šç³»çµ±åå¥½è¨­å®š</strong>
        <ul>
          <li>é–‹å•Ÿã€Œç³»çµ±åå¥½è¨­å®šã€</li>
          <li>é»æ“Šã€Œç¶²è·¯ã€</li>
          <li>é¸æ“‡ã€ŒWi-Fiã€</li>
          <li>å³å´é¡¯ç¤ºã€ŒIP ä½å€ï¼š192.168.x.xã€</li>
        </ul>
        
        <strong style="margin-top: 15px; display: block;">é¸é … Bï¼šçµ‚ç«¯æ©Ÿå‘½ä»¤</strong>
        <div class="code">
          ifconfig | grep "inet " | grep -v 127.0.0.1
        </div>
      </div>
    </div>
    
    <div class="step">
      <div class="step-title">
        <span class="step-number">2</span>
        åœ¨æ‰‹æ©Ÿç€è¦½å™¨è¼¸å…¥ç¶²å€
      </div>
      <div class="step-content">
        <p>å‡è¨­æ‚¨çš„é›»è…¦ IP æ˜¯ <code style="color: #00ff88;">192.168.1.100</code></p>
        <p style="margin-top: 10px;">åœ¨æ‰‹æ©Ÿç€è¦½å™¨è¼¸å…¥ï¼š</p>
        <div class="code">
          http://192.168.1.100:3737
        </div>
      </div>
    </div>
    
    <h2>å¸¸è¦‹å•é¡Œ</h2>
    
    <div class="warning">
      <strong>âš ï¸ ç„¡æ³•é€£æ¥ï¼Ÿ</strong><br><br>
      <strong>1. æª¢æŸ¥ WiFiï¼š</strong>
      <ul>
        <li>ç¢ºèªé›»è…¦å’Œæ‰‹æ©Ÿåœ¨åŒä¸€å€‹ WiFi</li>
        <li>ä¸æ˜¯ã€Œç›¸åŒåç¨±ã€å°±å¥½ï¼Œå¿…é ˆæ˜¯ã€ŒåŒä¸€å€‹ç¶²è·¯ã€</li>
      </ul>
      <br>
      <strong>2. æª¢æŸ¥é˜²ç«ç‰†ï¼š</strong>
      <ul>
        <li>ç³»çµ±åå¥½è¨­å®š > å®‰å…¨æ€§èˆ‡éš±ç§ > é˜²ç«ç‰†</li>
        <li>å…è¨± Node.js æ¥æ”¶é€£ç·š</li>
      </ul>
      <br>
      <strong>3. æª¢æŸ¥ Dashboardï¼š</strong>
      <ul>
        <li>ç¢ºèªé›»è…¦ä¸Šçš„ Dashboard æ­£åœ¨é‹è¡Œ</li>
        <li>åœ¨é›»è…¦ç€è¦½å™¨æ¸¬è©¦ http://localhost:3737 æ˜¯å¦æ­£å¸¸</li>
      </ul>
    </div>
    
    <div class="info">
      <strong>ğŸ’¡ ç‚ºä»€éº¼æ‰‹æ©Ÿèƒ½è¨ªå•ï¼Ÿ</strong><br><br>
      Dashboard ä¼ºæœå™¨ç›£è½é›»è…¦çš„ 3737 ç«¯å£ï¼Œåªè¦è¨­å‚™åœ¨åŒä¸€å€‹å€åŸŸç¶²è·¯ï¼ˆWiFiï¼‰ï¼Œå°±èƒ½é€éé›»è…¦çš„ IP ä½å€è¨ªå•ã€‚é€™æ˜¯æ¨™æº–çš„å€åŸŸç¶²è·¯é€£æ¥æ–¹å¼ï¼Œä¸éœ€è¦é›²ç«¯ä¼ºæœå™¨ï¼
    </div>
    
    <div class="info">
      <strong>ğŸ”’ å®‰å…¨æ€§èªªæ˜ï¼š</strong><br><br>
      <ul>
        <li>âœ… åªåœ¨ç§äºº WiFi ç¶²è·¯ä¸­ä½¿ç”¨</li>
        <li>âœ… æ•¸æ“šä¸æœƒå‚³åˆ°ç¶²éš›ç¶²è·¯</li>
        <li>âœ… åªæœ‰åŒ WiFi çš„è¨­å‚™èƒ½è¨ªå•</li>
        <li>âš ï¸ ä¸è¦åœ¨å…¬å…± WiFi ä¸­ä½¿ç”¨</li>
      </ul>
    </div>
    
    <h2>æ‰‹æ©Ÿç‰ˆç‰¹è‰²</h2>
    
    <div class="step">
      <div class="step-content" style="margin-left: 0;">
        <ul>
          <li>ğŸ“± <strong>å®Œæ•´éŸ¿æ‡‰å¼è¨­è¨ˆ</strong> - è‡ªå‹•é©æ‡‰æ‰‹æ©Ÿè¢å¹•</li>
          <li>ğŸ”„ <strong>ä¸€éµåˆ‡æ›æ¨¡å‹</strong> - åœ¨æ‰‹æ©Ÿä¸Šä¹Ÿèƒ½åˆ‡æ›</li>
          <li>ğŸ“Š <strong>å³æ™‚ç›£æ§</strong> - 1 ç§’åˆ·æ–°åŒæ­¥æ•¸æ“š</li>
          <li>ğŸ‘† <strong>è§¸æ§å„ªåŒ–</strong> - æŒ‰éˆ•å¤§å°é©åˆæ‰‹æŒ‡é»æ“Š</li>
          <li>âš¡ <strong>å…¨åŠŸèƒ½</strong> - èˆ‡æ¡Œæ©Ÿç‰ˆå®Œå…¨ç›¸åŒ</li>
        </ul>
      </div>
    </div>
  </div>
  
  <script>
    async function getIPAddress() {
      const ipResult = document.getElementById('ipResult');
      const ipAddress = document.getElementById('ipAddress');
      const mobileUrl = document.getElementById('mobileUrl');
      const qrCode = document.getElementById('qrCode');
      const qrImage = document.getElementById('qrImage');
      
      ipResult.style.display = 'block';
      ipAddress.textContent = 'åµæ¸¬ä¸­...';
      
      try {
        // ä½¿ç”¨ WebRTC å–å¾—æœ¬åœ° IP
        const pc = new RTCPeerConnection({iceServers: []});
        pc.createDataChannel('');
        
        const offer = await pc.createOffer();
        await pc.setLocalDescription(offer);
        
        pc.onicecandidate = (ice) => {
          if (!ice || !ice.candidate || !ice.candidate.candidate) return;
          
          const regex = /([0-9]{1,3}(\.[0-9]{1,3}){3})/;
          const match = ice.candidate.candidate.match(regex);
          
          if (match && match[1] && !match[1].startsWith('127.')) {
            const ip = match[1];
            ipAddress.textContent = ip;
            
            const url = `http://${ip}:3737`;
            mobileUrl.textContent = url;
            
            // é¡¯ç¤º QR Code
            qrCode.style.display = 'block';
            qrImage.src = `https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(url)}`;
            
            pc.close();
          }
        };
      } catch (error) {
        ipAddress.textContent = 'è‡ªå‹•åµæ¸¬å¤±æ•—';
        mobileUrl.innerHTML = '<span style="color: #ffaa00;">è«‹ä½¿ç”¨æ–¹æ³•äºŒæ‰‹å‹•æŸ¥è©¢ IP</span>';
      }
    }
  </script>
</body>
</html>
